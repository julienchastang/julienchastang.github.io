<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.43 in css mode. -->
<html>
  <head>
    <title>index.org</title>
    <style type="text/css">
    <!--
      body {
        color: #333333;
        background-color: #F6F6EF;
      }
      .builtin {
        /* font-lock-builtin-face */
        color: #006FE0;
      }
      .comment {
        /* font-lock-comment-face */
        color: #8D8D84;
        font-style: italic;
      }
      .comment-delimiter {
        /* font-lock-comment-delimiter-face */
        color: #8D8D84;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #006699;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #0000FF;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #555555;
        background-color: #E2E1D5;
        text-decoration: underline;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #555555;
        background-color: #E2E1D5;
        text-decoration: overline;
      }
      .org-date {
        /* org-date */
        color: #00459E;
        text-decoration: underline;
      }
      .org-document-info {
        /* org-document-info */
        color: #484848;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #008ED1;
        background-color: #EAEAFF;
      }
      .org-document-title {
        /* org-document-title */
        color: #000000;
        font-size: 180%;
        font-weight: bold;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #3C3C3C;
        background-color: #F0F0F0;
        font-size: 130%;
        font-weight: bold;
        text-decoration: overline;
      }
      .org-level-2 {
        /* org-level-2 */
        color: #123555;
        background-color: #E5F4FB;
        font-weight: bold;
        text-decoration: overline;
      }
      .org-link {
        /* org-link */
        color: #006DAF;
        text-decoration: underline;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #008ED1;
        background-color: #EAEAFF;
      }
      .rainbow-delimiters-depth-1 {
        /* rainbow-delimiters-depth-1-face */
        color: #707183;
      }
      .rainbow-delimiters-depth-2 {
        /* rainbow-delimiters-depth-2-face */
        color: #7388D6;
      }
      .rainbow-delimiters-depth-3 {
        /* rainbow-delimiters-depth-3-face */
        color: #909183;
      }
      .string {
        /* font-lock-string-face */
        color: #008000;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #BA36A5;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="org-meta-line">#+OPTIONS: ':nil *:t -:t ::t &lt;:t H:3 \n:nil ^:t arch:headline author:t c:nil</span>
<span class="org-meta-line">#+OPTIONS: creator:nil d:(not "LOGBOOK") date:t e:t email:nil f:t inline:t</span>
<span class="org-meta-line">#+OPTIONS: num:nil p:nil pri:nil prop:nil stat:t tags:t tasks:t tex:t timestamp:t</span>
<span class="org-meta-line">#+OPTIONS: title:t toc:nil todo:t |:t</span>
<span class="org-document-info-keyword">#+TITLE:</span> <span class="org-document-title">Julien Chastang
</span><span class="org-document-info-keyword">#+DATE:</span> <span class="org-document-info">&lt;2016-12-06 Tue&gt;
</span><span class="org-document-info-keyword">#+AUTHOR:</span> <span class="org-document-info">Julien Chastang
</span><span class="org-document-info-keyword">#+EMAIL:</span> <span class="org-document-info">julien dot c dot chastang at gmail
</span><span class="org-meta-line">#+LANGUAGE: en</span>
<span class="org-meta-line">#+SELECT_TAGS: export</span>
<span class="org-meta-line">#+EXCLUDE_TAGS: noexport</span>
<span class="org-meta-line">#+CREATOR: Emacs 25.1.2 (Org mode 8.3.6)</span>

<span class="org-meta-line">#+SETUPFILE: ../templates/level-0.org</span>
<span class="org-meta-line">#+INCLUDE: ../templates/level-0.org</span>

<span class="org-block-begin-line">#+BEGIN_SRC ipython :session :exports results :file ../static/shell.png 
</span>  <span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt
  <span class="keyword">import</span> numpy <span class="keyword">as</span> np
  <span class="keyword">import</span> matplotlib.patches <span class="keyword">as</span> mpatches
  <span class="keyword">from</span> matplotlib.collections <span class="keyword">import</span> PatchCollection

  plt.rcdefaults<span class="rainbow-delimiters-depth-1">()</span>


  <span class="keyword">def</span> <span class="function-name">fib</span><span class="rainbow-delimiters-depth-1">(</span>n<span class="rainbow-delimiters-depth-1">)</span>:
      <span class="keyword">if</span> n &lt; 2:
          <span class="keyword">return</span> n
      <span class="keyword">else</span>:
          <span class="keyword">return</span> fib<span class="rainbow-delimiters-depth-1">(</span>n - 1<span class="rainbow-delimiters-depth-1">)</span> + fib<span class="rainbow-delimiters-depth-1">(</span>n - 2<span class="rainbow-delimiters-depth-1">)</span>


  <span class="keyword">def</span> <span class="function-name">label</span><span class="rainbow-delimiters-depth-1">(</span>xy, text, j<span class="rainbow-delimiters-depth-1">)</span>:
      <span class="variable-name">y</span> = xy<span class="rainbow-delimiters-depth-1">[</span>1<span class="rainbow-delimiters-depth-1">]</span> - 0.025  <span class="comment-delimiter"># </span><span class="comment">shift y-value to center label
</span>      plt.text<span class="rainbow-delimiters-depth-1">(</span>xy<span class="rainbow-delimiters-depth-2">[</span>0<span class="rainbow-delimiters-depth-2">]</span>, y, text, ha=<span class="string">"center"</span>, family=<span class="string">'sans-serif'</span>, size=j<span class="rainbow-delimiters-depth-1">)</span>


  <span class="variable-name">fig</span>, <span class="variable-name">ax</span> = plt.subplots<span class="rainbow-delimiters-depth-1">()</span>
  <span class="variable-name">patches</span> = <span class="rainbow-delimiters-depth-1">[]</span>

  <span class="variable-name">xy</span> = np.array<span class="rainbow-delimiters-depth-1">(</span><span class="rainbow-delimiters-depth-2">[</span>0, 0<span class="rainbow-delimiters-depth-2">]</span><span class="rainbow-delimiters-depth-1">)</span>
  <span class="variable-name">c</span> = xy
  <span class="variable-name">i</span> = 1
  <span class="variable-name">t</span> = np.array<span class="rainbow-delimiters-depth-1">(</span><span class="rainbow-delimiters-depth-2">[</span>270, 0<span class="rainbow-delimiters-depth-2">]</span><span class="rainbow-delimiters-depth-1">)</span>

  <span class="keyword">for</span> j <span class="keyword">in</span> <span class="builtin">range</span><span class="rainbow-delimiters-depth-1">(</span>1, 7 + 4<span class="rainbow-delimiters-depth-1">)</span>:
      <span class="variable-name">t</span> += 90
      <span class="keyword">if</span> i == 5:
          <span class="variable-name">i</span> = 1
      <span class="keyword">if</span> i == 1:
          <span class="variable-name">xy</span> = xy + <span class="rainbow-delimiters-depth-1">[</span>-fib<span class="rainbow-delimiters-depth-2">(</span>j - 2<span class="rainbow-delimiters-depth-2">)</span>, fib<span class="rainbow-delimiters-depth-2">(</span>j - 1<span class="rainbow-delimiters-depth-2">)</span><span class="rainbow-delimiters-depth-1">]</span>
          <span class="variable-name">c</span> = c + <span class="rainbow-delimiters-depth-1">[</span>-fib<span class="rainbow-delimiters-depth-2">(</span>j - 2<span class="rainbow-delimiters-depth-2">)</span>, 0<span class="rainbow-delimiters-depth-1">]</span>
      <span class="keyword">if</span> i == 2:
          <span class="variable-name">xy</span> = xy + <span class="rainbow-delimiters-depth-1">[</span>-fib<span class="rainbow-delimiters-depth-2">(</span>j<span class="rainbow-delimiters-depth-2">)</span>, -fib<span class="rainbow-delimiters-depth-2">(</span>j - 2<span class="rainbow-delimiters-depth-2">)</span><span class="rainbow-delimiters-depth-1">]</span>
          <span class="variable-name">c</span> = c + <span class="rainbow-delimiters-depth-1">[</span>0, -fib<span class="rainbow-delimiters-depth-2">(</span>j - 2<span class="rainbow-delimiters-depth-2">)</span><span class="rainbow-delimiters-depth-1">]</span>
      <span class="keyword">elif</span> i == 3:
          <span class="variable-name">xy</span> = xy + <span class="rainbow-delimiters-depth-1">[</span>0, -fib<span class="rainbow-delimiters-depth-2">(</span>j<span class="rainbow-delimiters-depth-2">)</span><span class="rainbow-delimiters-depth-1">]</span>
          <span class="variable-name">c</span> = c + <span class="rainbow-delimiters-depth-1">[</span>fib<span class="rainbow-delimiters-depth-2">(</span>j - 2<span class="rainbow-delimiters-depth-2">)</span>, 0<span class="rainbow-delimiters-depth-1">]</span>
      <span class="keyword">elif</span> i == 4:
          <span class="variable-name">xy</span> = xy + <span class="rainbow-delimiters-depth-1">[</span>fib<span class="rainbow-delimiters-depth-2">(</span>j - 1<span class="rainbow-delimiters-depth-2">)</span>, 0<span class="rainbow-delimiters-depth-1">]</span>
          <span class="variable-name">c</span> = c + <span class="rainbow-delimiters-depth-1">[</span>0, fib<span class="rainbow-delimiters-depth-2">(</span>j - 2<span class="rainbow-delimiters-depth-2">)</span><span class="rainbow-delimiters-depth-1">]</span>
      <span class="comment-delimiter"># </span><span class="comment">Add a wedge
</span>      <span class="variable-name">rect</span> = mpatches.Wedge<span class="rainbow-delimiters-depth-1">(</span><span class="rainbow-delimiters-depth-2">[</span>c<span class="rainbow-delimiters-depth-3">[</span>0<span class="rainbow-delimiters-depth-3">]</span>, c<span class="rainbow-delimiters-depth-3">[</span>1<span class="rainbow-delimiters-depth-3">]</span><span class="rainbow-delimiters-depth-2">]</span>, fib<span class="rainbow-delimiters-depth-2">(</span>j<span class="rainbow-delimiters-depth-2">)</span>, t<span class="rainbow-delimiters-depth-2">[</span>0<span class="rainbow-delimiters-depth-2">]</span>, t<span class="rainbow-delimiters-depth-2">[</span>1<span class="rainbow-delimiters-depth-2">]</span>, ec=<span class="string">"none"</span><span class="rainbow-delimiters-depth-1">)</span>
      patches.append<span class="rainbow-delimiters-depth-1">(</span>rect<span class="rainbow-delimiters-depth-1">)</span>
      <span class="comment-delimiter"># </span><span class="comment">Add a rectangle
</span>      <span class="variable-name">rect</span> = mpatches.Rectangle<span class="rainbow-delimiters-depth-1">(</span><span class="rainbow-delimiters-depth-2">[</span>xy<span class="rainbow-delimiters-depth-3">[</span>0<span class="rainbow-delimiters-depth-3">]</span>, xy<span class="rainbow-delimiters-depth-3">[</span>1<span class="rainbow-delimiters-depth-3">]</span><span class="rainbow-delimiters-depth-2">]</span>, fib<span class="rainbow-delimiters-depth-2">(</span>j<span class="rainbow-delimiters-depth-2">)</span>, fib<span class="rainbow-delimiters-depth-2">(</span>j<span class="rainbow-delimiters-depth-2">)</span>, ec=<span class="string">"none"</span><span class="rainbow-delimiters-depth-1">)</span>
      patches.append<span class="rainbow-delimiters-depth-1">(</span>rect<span class="rainbow-delimiters-depth-1">)</span>
      <span class="variable-name">i</span> += 1
      label<span class="rainbow-delimiters-depth-1">(</span>xy + <span class="rainbow-delimiters-depth-2">[</span>0.5 * fib<span class="rainbow-delimiters-depth-3">(</span>j<span class="rainbow-delimiters-depth-3">)</span>, 0.5 * fib<span class="rainbow-delimiters-depth-3">(</span>j<span class="rainbow-delimiters-depth-3">)</span><span class="rainbow-delimiters-depth-2">]</span>, <span class="string">"%s"</span> % fib<span class="rainbow-delimiters-depth-2">(</span>j<span class="rainbow-delimiters-depth-2">)</span>, j * 2<span class="rainbow-delimiters-depth-1">)</span>


  <span class="variable-name">colors</span> = np.linspace<span class="rainbow-delimiters-depth-1">(</span>0, 1, <span class="builtin">len</span><span class="rainbow-delimiters-depth-2">(</span>patches<span class="rainbow-delimiters-depth-2">)</span><span class="rainbow-delimiters-depth-1">)</span>
  <span class="variable-name">collection</span> = PatchCollection<span class="rainbow-delimiters-depth-1">(</span>patches, cmap=plt.cm.hsv, alpha=0.3<span class="rainbow-delimiters-depth-1">)</span>
  collection.set_array<span class="rainbow-delimiters-depth-1">(</span>np.array<span class="rainbow-delimiters-depth-2">(</span>colors<span class="rainbow-delimiters-depth-2">)</span><span class="rainbow-delimiters-depth-1">)</span>
  ax.add_collection<span class="rainbow-delimiters-depth-1">(</span>collection<span class="rainbow-delimiters-depth-1">)</span>

  plt.axis<span class="rainbow-delimiters-depth-1">(</span><span class="string">'equal'</span><span class="rainbow-delimiters-depth-1">)</span>
  plt.axis<span class="rainbow-delimiters-depth-1">(</span><span class="string">'off'</span><span class="rainbow-delimiters-depth-1">)</span>
  plt.grid<span class="rainbow-delimiters-depth-1">(</span><span class="string">'off'</span><span class="rainbow-delimiters-depth-1">)</span>
  plt.show<span class="rainbow-delimiters-depth-1">()</span>
<span class="org-block-end-line">#+END_SRC
</span>
<span class="org-meta-line">#+RESULTS:</span>
<span class="org-link"><a href="file:../static/shell.png">file:../static/shell.png</a></span>


<span class="org-level-1">* Notes</span>

<span class="org-level-2">** </span><span class="org-date">&lt;2016-12-12 Mon&gt;</span><span class="org-level-2"> </span><span class="org-link"><a href="file:blog/emacs-docker.org">Running Emacs in Docker</a></span>

<span class="org-level-2">** </span><span class="org-date">&lt;2016-12-08 Thu&gt;</span><span class="org-level-2"> </span><span class="org-link"><a href="file:blog/first.org">This Web Site</a></span>

</pre>
  </body>
</html>
