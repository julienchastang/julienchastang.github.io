<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-02-01 Wed 18:49 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title>Running Emacs in Docker</title>
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Julien Chastang" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>

    <link href='https://fonts.googleapis.com/css?family=Gentium+Book+Basic:400,400i,700' rel='stylesheet' />
    <style type='text/css'>
      body {
        color: #111;
        font-family: 'Gentium Book Basic', serif;
        font-size: 16px;
        line-height: 24px;
        margin: 0 auto;
        max-width: 672px;
        padding: 0 32px;
      }
      
      a:link,
      a:visited {
        background-color: #eee;
        border-bottom: solid #333 1px;
        color: #111;
        padding: 0 .2em;
        text-decoration: none;
      }
      
      a:hover {
        background-color: #333;
        color: #eee;
      }
      
      a:active {
        border-bottom: solid #f00 1px;
      }
      
      h1, h2, h3, h4, h5, h6 {
        font-family: 'helvetica neue', 'arial', sans-serif;
        font-weight: normal;
        line-height: 1.2em;
      }
      
      h1.title {
        border-bottom: solid #d4d4d4 1px;
        padding-bottom: .2em;
        text-align: left;
      }
      
      .figure p {
        text-align: left;
      }
      
      #postamble {
        border-top: solid #d4d4d4 1px;
        color: #999;
        font-style: italic;
        text-align: right;
        margin-top: 1em;
      }
      
      #postamble a.source-link:link,
      #postamble a.source-link:visited {
        color: #000;
        float: left;
        font-family: monospace;
        font-style: normal;
        text-transform: lowercase;
      }
      
      #postamble a.source-link:hover,
      #postamble a.source-link:active {
        background-color: #000;
        color: #fff;
      }
      
      #postamble a:link, #postamble a:visited {
        background-color: transparent;
        border-bottom: none;
        color: #999;
      }
      
      #postamble a:hover {
        background-color: #777;
        color: #fff;
      }
      
      #postamble a:active {
       border-bottom: solid 1px #f00;
      }
      
      code {
        background-color: #eee;
        border-top: solid #d4d4d4 1px;
        border-bottom: solid #d4d4d4 1px;
        padding: 0 .2em;
      }
      
      pre.src, pre.example {
        background-color: #eee;
        border-top: solid #d4d4d4 1px;
        border-bottom: solid #d4d4d4 1px;
        border-left: none;
        border-right: none;
        box-shadow: none;
        font-size: 14px;
        line-height: 20px;
        padding: 1em;
        margin: 0;
        overflow: auto;
        max-width: 100%;
      }
      
      pre.src:before {
        background-color: transparent;
        border: none;
        top: 0;
        right: 0;
      }
      
      sup {
        line-height: 0;
      }
      
      hr {
        border-top: solid 1px #d4d4d4;
        border-bottom: none;
      }
      
      li p {
        margin: 0;
      }
      
      .footpara {
        margin: 0;
      }
      
      .footnotes {
        margin-top: 1em;
      }
    </style>
</head>
<body>
<div id="content">
<h1 class="title">Running Emacs in Docker</h1>
<div class="menu">
 ( 
   <a href="../index.html">home</a> | 
   <a href="../about.html">about</a> | 
   <a href="../configuration.html">configuration</a> | 
   <a href="../dotemacs.html">.emacs</a> 
 )
</div>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1"><span class="timestamp-wrapper"><span class="timestamp">&lt;2016-12-12 Mon&gt;</span></span></h2>
<div class="outline-text-2" id="text-orgheadline1">
<p>
I have a complex <a href="http://julienchastang.com/dotemacs.html">emacs configuration</a> for my scientific programming workflows. This configuration assumes many external dependencies including:
</p>

<ul class="org-ul">
<li>Tex Live</li>
<li>Gnuplot</li>
<li>ditaa</li>
<li>Java</li>
<li>Clojure</li>
<li>Python (via conda)
<ul class="org-ul">
<li>netcdf4-python</li>
<li>matplotlib</li>
<li>cartopy</li>
<li>jupyter</li>
<li>jedi</li>
<li>etc.</li>
</ul></li>
<li>Miscellaneous utilities such as spelling programs</li>
</ul>

<p>
In addition, I curate my own version of org-mode so I can control the version of org-mode I am running.
</p>

<p>
In order to manage this complexity, I <a href="https://github.com/julienchastang/emacs-docker">created a Docker container</a> to capture my emacs environment and its many dependencies. Running emacs in a container has several advantages. I can "codify" complex dependencies in a <code>Dockerfile</code>. I also tend to avoid package managers other than brew on my Macbook Pro such as conda to avoid library conflicts that result in programs like meld (a Python program) not working. I realize there are solutions and workarounds to these problems but I appreciate the Docker sandboxing philosophy so I would just as soon choose that option. Finally, I like Docker containers for the defined, reproducible, predictable medium they provide.
</p>

<p>
My emacs container is fully-featured, but unfortunately it is rather huge. When I save the container image to a file, even compressed, it is 2.5 gigabytes. Being on a fast network is imperative for building or downloading this container.
</p>

<p>
Finally, I run X11 emacs, which by the way, <a href="https://github.com/Homebrew/homebrew-core/pull/3531">is no longer maintained by brew</a>. This was the last tricky part but <a href="https://fredrikaverpil.github.io/2016/07/31/docker-for-mac-and-gui-applications/">this blog entry</a> showed me how to run GUI programs in Docker on my Macbook Pro.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<a class='source-link' href='./emacs-docker.org.html'>Source</a>Last updated on Wed Feb  1 18:49:41 2017 &bullet; <a href='http://julienchastang.com'>julienchastang.com</a> by <a href='http://julienchastang.com'>Julien Chastang</a>
</div>
</body>
</html>
